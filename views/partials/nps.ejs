 <div class="nps-border" id="nps-borderid"> 
     <p id="langBtn" onclick=changeLang() style="text-decoration: underline; cursor: pointer;
     text-align: right;color: #3498db;margin-right: 25px;margin-top: 20px;">Bahasa</p>
 
    <p id="langBtnEn" onclick=changeLangEn() style="text-decoration: underline; cursor: pointer;
    text-align: right;color: #3498db;margin-right: 25px;margin-top: 20px;display: none;">English</p>
 
        <p id="test" class="nps-border-title">Let us know how we're doing?</p> 
        <p class="nps-border-sub-title">We are always trying to improve what we do and your feedback is important!</p>  
        
        <div class="nps-alignStars"> 
            <img src="./stylesheets/on.svg" class="nps-star" id="star0" onclick="fillstar(this);setStars(1)" />
            <img src="./stylesheets/on.svg" class="nps-star" id="star1" onclick="fillstar(this);setStars(2)" />
            <img src="./stylesheets/on.svg" class="nps-star" id="star2" onclick="fillstar(this);setStars(3)" />
            <img src="./stylesheets/on.svg" class="nps-star" id="star3" onclick="fillstar(this);setStars(4)" />
            <img src="./stylesheets/on.svg" class="nps-star" id="star4" onclick="fillstar(this);setStars(5)" />
        </div> 
 
        <p id="star-msg" class="nps-star-5-msg"></p>
        <div id="status"></div>

        <div class="clearfix"></div> 
        <div class="nps-review-box"> 
            <div id="nps-review-less-1" onclick="setReview('nps-review-less-1','easeOfUse')" class="nps-review-less"></div> 
            <div id="nps-review-less-2" onclick="setReview('nps-review-less-2','deliverySpeed')" class="nps-review-less"></div>
            <div id="nps-review-less-3" onclick="setReview('nps-review-less-3','easeOPurchaseStep')" class="nps-review-less"></div>
            <div id="nps-review-less-4" onclick="setReview('nps-review-less-4','customerService')" class="nps-review-less"></div>
            <div id="nps-review-less-5" onclick="setReview('nps-review-less-5','performanceOfWebsite')" class="nps-review-less"></div>
        </div>

        <div class="nps-input">
            <input type="text" id="nps-input" class="nps-border-input" placeholder="Share your experiences and help others make better choices!">
        </div>

        <div class="nps-href-box">
            <button class="nps-href" id="submit-btn" onclick="closeReview();sendReviews()">Submit Review</button>
        </div>  
</div>

<div class="nps-thankyou-msg" id="thankYouMsg">
    <div class="nps-checkMark"> 
        <p class="nps-star-checkmark">&#10003;</p>
        <p class="nps-thankyou-txt">Thank you for the rating!</p>
        <p class="nps-thankyou-txt2">We'll try to serve you better in the future!</p>
    </div>
</div> 
 
<script>  
//TABLE OF CONTENT 
//1.0 Define shorthand id
//2.0 Fill gold color for stars
//3.0 Get number of stars  
//4.0 Assign selected opt to review model
//5.0 Create object & send params to AJAX Call 
//6.0 AJAX Call
//7.0 Show Thank you message  
 
//Set object for description
var review = {"easeOfUse": "","deliverySpeed": "","easeOPurchaseStep": "","customerService": "","performanceOfWebsite": "", "feedback" : "" , "star" : 5 }
//Create object for desc to be copied
var desc = [
    {descText: "Friendly customer service, people from DoctorOnCall are friendly and provided me satisfying customer service."},
    {descText: "The delivery of products that I purchase was fast and next time I would definitely use DoctorOnCall service again."},
    {descText: "Easy purchasing steps on DoctorOnCall page, elders can also purchase medicines because the steps aren't complicated."},
    {descText: "The amount of effort that I personally have to put compared to normal private clinic is little and I managed to save a lot of time."},
    {descText: "Comfortable when I was using DoctorOnCall website. Not all websites give this feel, will recommend this to my family and friends."},
    {descText: "Prices of products in DoctorOnCall is lower than private clinic. Helpful customer service and my questions are answered quickly."},
    {descText: "DoctorOnCall gives a comprehensive medical information. The forum section and the doctors are all easy to approach and provide good answers and suggestions."},
    {descText: "DoctorOnCall meet my expectations, from good customer service and affordable price, will tell a friend!"},
    {descText: "I was looking for a specific supplement and managed to find the product in DoctorOnCall page in a few moments. Definitely going to recommend to family & friends."},
    {descText: "I often come to DoctorOnCall if I have any medical doubts. One of the trustworthy and reliable medical resources in Malaysia."}
] 

 var optDesc = {
     optDescText1 : [ "Difficult to Use" , "Sukar Digunakan" ], 
     optDescText2 : [ "Slow Delivery" , "Penghantaran yang lambat" ],
     optDescText3 : [ "Complicated Purchase Steps" , "Langkah Pembelian yang Rumit" ],
     optDescText4 : [ "Poor Customer Service" , "Khidmat Pelanggan Yang Teruk" ],
     optDescText5 : [ "Slow Website" , "Laman Sesawang yang Perlahan" ],
     optDescText6 : [ "Good Look and Feel" , "Kelihatan Kemas dan Menarik" ],
     optDescText7 : [ "Fast Delivery" , "Penghantaran yang cepat" ],
     optDescText8 : [ "Easy Purchase Steps" , "Langkah Pembelian yang mudah" ],
     optDescText9 : [ "Friendly Customer Service" , "Pegawai Khidmat Pelanggan yang mesra" ],
     optDescText10 : [ "Fast Website" , "Laman Sesawang yang laju" ]
 }

 var langObj={
 "en":{
  abc:"Buy"
  },
 "bm":{
  abc:"Beli"
 }
}

    var optDescBm1 = optDesc.optDescText1[1]
    var optDescBm2 = optDesc.optDescText2[1]
    var optDescBm3 = optDesc.optDescText3[1]
    var optDescBm4 = optDesc.optDescText4[1]
    var optDescBm5 = optDesc.optDescText5[1]
    var optDescBm6 = optDesc.optDescText6[1]
    var optDescBm7 = optDesc.optDescText7[1]
    var optDescBm8 = optDesc.optDescText8[1]
    var optDescBm9 = optDesc.optDescText9[1]
    var optDescBm10 = optDesc.optDescText10[1]

    var optDescEn1 = optDesc.optDescText1[0]
    var optDescEn2 = optDesc.optDescText2[0]
    var optDescEn3 = optDesc.optDescText3[0]
    var optDescEn4 = optDesc.optDescText4[0]
    var optDescEn5 = optDesc.optDescText5[0]
    var optDescEn6 = optDesc.optDescText6[0]
    var optDescEn7 = optDesc.optDescText7[0]
    var optDescEn8 = optDesc.optDescText8[0]
    var optDescEn9 = optDesc.optDescText9[0]
    var optDescEn10 = optDesc.optDescText10[0]

//1.0 Define shorthand id
    function id(input){
      return document.getElementById(input)
    } 

//2.0 Fill gold color for stars  
function fillstar(obj){
        var stars=document.getElementsByClassName("nps-star")  
        for(i=0; i < stars.length; i++){ 
            var id = (obj.id).replace("star" , "")
            if (i <= id ){
                stars[i].src="./stylesheets/on.svg" 
            }
            else{
                stars[i].src="./stylesheets/off.svg"
            }
        }
    }   

    function changeLang(){
        var langBtn = id("langBtn")
        var langBtnEn = id("langBtnEn")
        if(langBtn.innerHTML == "Bahasa"){ 
            
            langBtn.style.display = "none"
            langBtnEn.style.display = "block" 
            console.log("changed to english")


        }
    }

    function changeLangEn(){
        var langBtn = id("langBtn")
        var langBtnEn = id("langBtnEn")
        if(langBtnEn.innerHTML == "English"){ 
            
            langBtn.style.display = "block"
            langBtnEn.style.display = "none"


            console.log("changed to bahasa") 


        }
    }

//3.0 Get number of stars 
    function setStars(input){    
        for(var i=0; i < 5; i++){ 
            review.star = input 
            if(input == i){ 
                var starOpt = document.getElementsByClassName("nps-review-less")
                for(var i=0; i< starOpt.length; i++){
                    starOpt[i].style.display = "inline-block"
                }  

                if(id("langBtn")) { 

                id("nps-review-less-1").innerHTML = optDescEn1
                id("nps-review-less-2").innerHTML = optDescEn2
                id("nps-review-less-3").innerHTML = optDescEn3
                id("nps-review-less-4").innerHTML = optDescEn4
                id("nps-review-less-5").innerHTML = optDescEn5
                console.log("im here")
                // id("star-msg").innerHTML = optDesc[10].optDescText;
                }else{ 
                id("nps-review-less-1").innerHTML = optDescBm1
                id("nps-review-less-2").innerHTML = optDescBm2
                id("nps-review-less-3").innerHTML = optDescBm3
                id("nps-review-less-4").innerHTML = optDescBm4
                id("nps-review-less-5").innerHTML = optDescBm5
                // id("star-msg").innerHTML = optDesc[10].optDescText;
                }

                
                //show and hide buttons for 1-4 stars
                id("submit-btn").style.display="inline-block";                     
                id("nps-input").style.display="inline-block";     
                return input
            }
            if(input == 5){
                var starOpt = document.getElementsByClassName("nps-review-less")
                for(var i=0; i< starOpt.length; i++){
                    starOpt[i].style.display = "inline-block";
                }
                if(id("langBtn").innerHTML == ""){
                    console.log("im here")

                id("nps-review-less-1").innerHTML = optDescEn6
                id("nps-review-less-2").innerHTML = optDescEn7
                id("nps-review-less-3").innerHTML = optDescEn8
                id("nps-review-less-4").innerHTML = optDescEn9
                id("nps-review-less-5").innerHTML = optDescEn10
                // id("star-msg").innerHTML = optDesc[11].optDescText;
                }else{
                id("nps-review-less-1").innerHTML = optDescBm6
                id("nps-review-less-2").innerHTML = optDescBm7
                id("nps-review-less-3").innerHTML = optDescBm8
                id("nps-review-less-4").innerHTML = optDescBm9
                id("nps-review-less-5").innerHTML = optDescBm10
                // id("star-msg").innerHTML = optDesc[11].optDescText;
                }
                //show and hide buttons for 5 stars   
                id("nps-input").style.display="inline-block";     
                id("submit-btn").style.display="inline-block"; 
            }
        } 
    }   
    
//4.0 Assign selected opt to review model
    function setReview(input,field){
        id(input).style.backgroundColor  ="#41c0f1"
        id(input).style.color  ="#fff"
        review[field]=id(input).innerHTML  
    }   

//5.0 Create object & send params to AJAX Call
    function sendReviews(){ 
        var feedback = id("nps-input")
        var feedbackValue = id("nps-input").value 
        review.feedback = feedbackValue  
        sendPOSTAJAX(review)  

        if(review.star == 5 && feedback.value.length == 0){
        var randomDesc = desc[Math.round( Math.random()*desc.length)].descText;    
        utilityCopyFeedback(randomDesc)  
        alert("Thank you for your feedback! We have copied the review for you. Please paste this at Google Review to help others to make better decision.")
        window.location.href="https://www.google.com/search?q=doctoroncall&rlz=1C1CHBF_enMY868MY868&oq=doctoroncall&aqs=chrome..69i57j0l5.2171j1j7&sourceid=chrome&ie=UTF-8#lkt=LocalPoiReviews&lrd=0x31cc4ea1b0dc1491:0xdb4e3073e413ce5f,3,,,&trex=m_t:lcl_akp,rc_f:nav,rc_ludocids:15802621416795524703,rc_q:DoctorOnCall,ru_q:DoctorOnCall"
        }else if(review.star == 5 && feedback.value.length != 0){  
        utilityCopyFeedback(feedbackValue) 
        alert("Thank you for your feedback! We have copied the review for you. Please paste this at Google Review to help others to make better decision.")
        window.location.href="https://www.google.com/search?q=doctoroncall&rlz=1C1CHBF_enMY868MY868&oq=doctoroncall&aqs=chrome..69i57j0l5.2171j1j7&sourceid=chrome&ie=UTF-8#lkt=LocalPoiReviews&lrd=0x31cc4ea1b0dc1491:0xdb4e3073e413ce5f,3,,,&trex=m_t:lcl_akp,rc_f:nav,rc_ludocids:15802621416795524703,rc_q:DoctorOnCall,ru_q:DoctorOnCall"
        } 
    }

    function utilityCopyFeedback(inputfeedback){
        var fullLink = document.createElement('input');
        document.body.appendChild(fullLink);
        fullLink.value =  inputfeedback; 
        fullLink.select();
        document.execCommand("copy", false);
        fullLink.remove(); 
    }   

//6.0 AJAX Call 
    function sendPOSTAJAX(input){
        var xmlhttp = new XMLHttpRequest()
        var url = 'https://script.google.com/macros/s/AKfycbz40LThVUuSChUW9dPBl_0i5mqQWd_f9J1Ckov9y5gOVD26JQj3/exec' 
        xmlhttp.onreadystatechange = function(){
            if(xmlhttp.readyState == XMLHttpRequest.DONE){
                if(xmlhttp.status == 200){
                    console.log(JSON.parse(xmlhttp.responseText))
                }
                else if (xmlhttp.status == 400){
                    console.log("400 Bad Request")
                }
                else{
                    console.log("Error in AJAX Call") 
                }
            }
        }
    xmlhttp.open("post", url, true)
    xmlhttp.setRequestHeader('content-type', 'application/x-www-form-urlencoded; charset=utf-8')
    xmlhttp.send(JSON.stringify(input))
    console.log(input)
} 

//7.0 Show Thank you message
    function closeReview(){
        id("nps-borderid").style.display = "none"
        id("thankYouMsg").style.display = "block"
    }   

    document.addEventListener('DOMContentLoaded', function () { 
          });
</script>